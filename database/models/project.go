package models

import "gorm.io/gorm"

//Project is a challenge students can complete.
type Project struct {
	gorm.Model     `json:"-"`
	UUID           string     `json:"uuid"`
	Name           string     `json:"name"`
	Description    string     `json:"description"`
	Author         int        `json:"author"`
	VictimImage    string     `json:"victim_image"`
	AttackImage    string     `json:"attack_image"`
	AttackPorts    string     `json:"attack_ports"`    //Potential issue, because SQL doesn't have arrays
	VictimPorts    string     `json:"victim_ports"`    //Potential issue, because SQL doesn't have arrays
	AttackCommands string     `json:"attack_commands"` //Potential issue, because SQL doesn't have arrays
	VictimCommands string     `json:"victim_commands"` //Potential issue, because SQL doesn't have arrays
	Difficulty     Difficulty `json:"difficulty"`
	Flag           string     `json:"flag"`
}

type Difficulty int64

const (
	BEGINNER Difficulty = iota
	NORMAL
	DIFFICULT
	EXPERT
)

func (s Difficulty) String() string {
	switch s {
	case BEGINNER:
		{
			return "Beginner"
		}
	case NORMAL:
		{
			return "Normal"
		}
	case DIFFICULT:
		{
			return "Difficult"
		}

	case EXPERT:
		{
			return "Expert"
		}
	}
	return "n/a"
}

func (s Difficulty) Points() int {
	switch s {
	case BEGINNER:
		{
			return 1
		}
	case NORMAL:
		{
			return 5
		}
	case DIFFICULT:
		{
			return 10
		}

	case EXPERT:
		{
			return 15
		}
	}
	return 0
}
